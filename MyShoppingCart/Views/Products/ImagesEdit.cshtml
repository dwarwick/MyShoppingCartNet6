@model Product

<div class="row">
    <div class="col-md-10 offset-1">
        <h2>Upload Images for Product: @Model.Name</h2>

        <form id="form2" method="post" enctype="multipart/form-data" data-parsley-validate class="form-horizontal form-label-left">
            <div class="form-group">
                <div class="col-md-6" id="dropzone">
                    <div action="UploadFiles?Id=@Model.Id" class="dropzone" id="uploader" />
                </div>
            </div>
        </form>

    </div>
</div>

@section Scripts{
<script type="text/javascript">
    // This example uses jQuery so it creates the Dropzone, only when the DOM has
    // loaded.

    // Disabling autoDiscover, otherwise Dropzone will try to attach twice.
    Dropzone.autoDiscover = false;
    // or disable for specific dropzone:
    // Dropzone.options.myDropzone = false;

    $(function () {
        // Now that the DOM is fully loaded, create the dropzone, and setup the
        // event listeners
        var myDropzone = new Dropzone(".dropzone");

        myDropzone.on("queuecomplete", function (file, res) {
            if (myDropzone.files[0].status == Dropzone.SUCCESS) {                
                window.location = "./Edit/?Id=@Model.Id";
            }
        });
    });
</script>
}

